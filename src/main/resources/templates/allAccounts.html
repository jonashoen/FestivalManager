<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>

    <!--  BOOTSTRAP STUFF  -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
        integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
        integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous" />
    <link rel="stylesheet" href="css/style.css" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" th:href="@{/resources/css/style.css}" />
    <title>Change Password</title>

    <meta charset="UTF-8">

</head>

<body>
    <nav th:include="navigation :: navigation"></nav>
    <table class="ui celled table">
        <thead>
            <tr>
                <th>name</th>
                <th>first name</th>
                <th>last name </th>
                <th>roles </th>
            </tr>
        </thead>
        <tbody>
            <th:block th:each="account:${accountList}">
                <tr>
                    <td th:text="${account.getUserAccount().username}"></td>
                    <td th:text="${account.firstName}"></td>
                    <td th:text="${account.lastName}"></td>
                    <td th:text="${account.getUserAccount().roles.toList()}"></td>
                    <td th:text="${account.getHourlyWageWithoutNull()}"></td>
                    <td th:text="${account.getWorkedHoursWithoutNull()}"></td>
                    <td th:text="${account.festivalNameWithoutNull}"></td>
                    <td>
                        <form th:action="@{deleteAccount/{name}(name=${account.getUserAccount().username})}"
                            method="get">
                            <button type="submit"
                                th:href="@{deleteAccount/{name}(name=${account.getUserAccount().username})}"
                                th:text="#{deleteAccount}">
                            </button></form>
                    </td>

                    <td>
                        <form th:action="@{changePassword/{name}(name=${account.getUserAccount().username})}"
                            method="get">
                            <button type="submit"
                                th:href="@{changePassword/{name}(name=${account.getUserAccount().username})}"
                                th:text="#{change.password}">
                            </button></form>
                    </td>

                </tr>
            </th:block>
        </tbody>


    </table>
    <td>
        <form th:action="@{/createAccount}" method="get">
            <button type="submit" th:href="@{/createAccount}" th:text="#{createAccount.button}"></button></form>
    </td>

</body>

</html>
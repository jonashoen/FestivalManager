<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=	, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
    integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
    integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
    integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
    integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous" />
  <link rel="stylesheet" href="css/style.css" />

  <link rel="stylesheet" type="text/css" th:href="@{/resources/css/style.css}" />
  <title>Navbar</title>
</head>

<body>
  <div th:fragment="navigation">
    <nav class="navbar navbar-dark">
      <a href="/" class="navbar-brand">FVIV FESTIVAL</a>
      <button class="navbar-toggler " type="button" data-toggle="collapse" data-target="#navbarSupportedContent">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">

          <!-- Home Link -->
          <li class="nav-item active">
            <a href="#" class="nav-link">Home</a>
          </li>
          <li class="nav-item">
            <a th:href="@{/login}" class="nav-link" sec:authorize="!isAuthenticated()" th:text="#{nav.login}">Login</a>
          </li>
          <!-- Contract Link -->
          <li class="nav-item dropdown">
            <a href="/contracts/list" sec:authorize="isAuthenticated()" class="nav-link dropdown-toggle"
              id="contractDropdown" role="button" data-toggle="dropdown">Contract</a>
            <form name="Location" th:action="@{/contractManagement.html}" method="post" th:hidden="true">
            </form>
            <div class="dropdown-menu" aria-labelledby="contractDropdown">
              <a href="/contracts/create" class="dropdown-item">Create Contract</a>
              <div class="dropdown-divider"></div>
              <a href="/contracts/list" class="dropdown-item">See all Contracts</a>
            </div>
          </li>
          <!-- Location Link -->
          <li class="nav-item dropdown">
            <a href="/location" sec:authorize="isAuthenticated()" class="nav-link dropdown-toggle" id="locationDrop"
              role="button" data-toggle="dropdown">Location</a>
            <form name="Location" th:action="@{/contractManagement}" method="post" th:hidden="true">
            </form>
            <div class="dropdown-menu" aria-labelledby="locationDrop">
              <a href="/createLocation" class="dropdown-item">Create Location</a>
              <div class="dropdown-divider"></div>
              <a href="/location" class="dropdown-item">See all Locations</a>
            </div>
          </li>
          <!-- Ticket Link -->
          <li class="nav-item dropdown">
            <a href="/ticketManagement" sec:authorize="isAuthenticated()" class="nav-link dropdown-toggle"
              id="ticketDropdown" role="button" data-toggle="dropdown">Tickets</a>
            <form name="Ticket" th:action="@{/ticketManagement.html}" method="post" th:hidden="true">
            </form>
            <div class="dropdown-menu" aria-labelledby="ticketDropdown">
              <a href="/createTicket" class="dropdown-item">Create Tickets</a>
              <div class="dropdown-divider"></div>
              <a href="/ticketManagement" class="dropdown-item">See all Tickets</a>
            </div>
          </li>
          <!-- Stock Link -->
          <li class="nav-item dropdown">
            <a href="/inventory" sec:authorize="isAuthenticated()" class="nav-link dropdown-toggle" id="stockDropdown"
              role="button" data-toggle="dropdown">Stock</a>
            <form name="Stock" th:action="@{/inventory}" method="post" th:hidden="true">
            </form>
            <div class="dropdown-menu" aria-labelledby="stockDropdown">
              <a href="/inventory/add" class="dropdown-item">Add an Item</a>
              <div class="dropdown-divider"></div>
              <a href="/inventory" class="dropdown-item">View Inventory</a>
            </div>
          </li>
          <!-- Festival Link -->
          <li class="nav-item dropdown">
            <a href="/festivals" sec:authorize="isAuthenticated()" class="nav-link dropdown-toggle"
              id="festivalDropdown" role="button" data-toggle="dropdown">Festivals</a>
            <form name="Festival" th:action="@{/festivals.html}" method="post" th:hidden="true">
            </form>
            <div class="dropdown-menu" aria-labelledby="festivalDropdown">
              <a href="/festival/add" class="dropdown-item">Create Festival</a>
              <div class="dropdown-divider"></div>
              <a href="/festivals" class="dropdown-item">See all Festivals</a>
            </div>
          </li>
          <!-- User Link -->
          <li class="nav-item dropdown">
            <a href="/changePassword" sec:authorize="isAuthenticated()" class="nav-link" id="passwordDropdown"
              role="button" data-toggle="dropdown">Change PW</a>
            <form name="User" th:action="@{/festivals.html}" method="post" th:hidden="true">
            </form>
          </li>
          <!-- Accounts Link -->
          <li class="nav-item">
            <a class="nav-link" sec:authorize="hasAuthority('MANAGER')" href="/allAccounts" th:href="@{/allAccounts}"
              th:text="Accounts">Hello</a>
          </li>
          <!-- Logout Link -->
          <li class="nav-item">
            <a class="nav-link" sec:authorize="isAuthenticated()" href="javascript: document.logoutForm.submit()"
              role="menuitem"> Logout </a>
            <form name="logoutForm" th:action="@{/logout}" method="post" th:hidden="true">
              <input hidden type="submit" value="Sign Out" />
            </form>
          </li>
        </ul>
      </div>
    </nav>
  </div>

</body>

</html>